<%- include('partials/header'); -%>

<form>
    <h2>Sign Up</h2>

    <label for="email">Email</label>
    <input type="text" name="email" required />
    <div class="error email"></div>

    <label for="password">Password</label>
    <!-- input type password makes the little dots show up -->
    <input type="password" name="password" required />
    <div class="error password"></div>

    <button type="submit">Sign Up</button>
</form>

<script>
    const form = document.querySelector('form');

    form.addEventListener('submit', async (ev) => {
        ev.preventDefault();

        // get values
        const email = form.email.value; // form.name.value retrieves current value of input field
        const password = form.password.value;
        
        try {
            // use fetch to call the post method we wrote for the route /signup, signup_post()
            const res = await fetch("/signup", {
                method: "POST",
                body: JSON.stringify({ email: email, password }), // email and password field and value have same name, you can combine them into one
                headers: { "Content-Type": "application/json" }
            });
        } 
        catch (error) {
            console.log(error);
        }

    });
</script>

<%- include('partials/footer'); -%>
